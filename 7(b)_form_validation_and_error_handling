import 'package:flutter/material.dart';
void main() {
  runApp(MyApp());
}
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(
          title: Text('simple form with validation'),
        ),
        body: Padding(
          padding: const EdgeInsets.all(16.0),
          child: SimpleForm(),
        ),
      ),
    );
  }
}
class SimpleForm extends StatefulWidget {
  @override
  _SimpleFormState createState() => _SimpleFormState();
}
class _SimpleFormState extends State<SimpleForm> {
  final _formKey = GlobalKey<FormState>();
  final _nameController = TextEditingController();
  final _ageController = TextEditingController();
  @override
  Widget build(BuildContext context) {
    return Form(
      key: _formKey,
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: <Widget>[
          TextFormField(
            controller: _nameController,
            decoration: InputDecoration(labelText: 'name'),
            validator: (value) {
              if (value == null || value.isEmpty) {
                return 'please enter your name';
              }
              return null;
            },
          ),
          TextFormField(
            controller: _ageController,
            decoration: InputDecoration(labelText: 'Age'),
            keyboardType: TextInputType.number,
            validator: (value) {
              if (value == null || value.isEmpty) {
                return 'please enter your age';
              }
              final age = int.tryParse(value);
              if (age == null || age <= 0) {
                return 'please enter a valid age';
              }
              return null;
            },
          ),
          SizedBox(height: 20),
          ElevatedButton(
            onPressed: () {
              if (_formKey.currentState?.validate() ?? false) {
                final name = _nameController.text;
                final age = _ageController.text;
                ScaffoldMessenger.of(context).showSnackBar(
                  SnackBar(content: Text('name: $name, Age: $age')),
                );
              }
            },
            child: Text('submit'),
          ),
        ],
      ),
    );
  }
}
